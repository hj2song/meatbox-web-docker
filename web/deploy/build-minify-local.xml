<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE project>
<project name="미트박스2.0" basedir="/home/super/docker/meatbox-web-prod" default="minify">

	<!-- 라이브러리 디렉토리 -->
	<property name="dir.lib"			value="${basedir}/10. reference/lib" />

	<!-- js 디렉토리 -->
	<!-- <property name="dir.js"				value="${basedir}/src/main/webapp/js" /> -->

	<!-- css 디렉토리 -->
	<!-- <property name="dir.css"			value="${basedir}/src/main/webapp/css" /> -->

	
	<target name="minify" description="js, css minify" depends="minify.css, minify.js" />
	
	<target name="minify.js">
		<apply executable="java" parallel="false">
			<fileset dir="${dir.js}">
				<include name="constant/*.js" />
				<include name="tool/*.js" />
				<include name="assets/*.js" />
				<exclude name="**/*.min.js" />
			</fileset>
			<arg line="-jar" />
			<arg path="${dir.lib}/yuicompressor-2.4.7.jar" />
			<srcfile />
			<arg line="--charset UTF-8 --type js -o" />
			<mapper type="glob" from="*.js" to="${dir.js}/*.min.js" />
			<targetfile />
		</apply>
	</target>
	
	<target name="minify.css">
		<apply executable="java" parallel="false">
			<fileset dir="${dir.css}">
				<include name="fo/*.css" />
				<include name="mo/*.css" />
				<include name="font/*.css" />
				<exclude name="**/*.min.css" />
			</fileset>
			<arg line="-jar" />
			<arg path="${dir.lib}/yuicompressor-2.4.7.jar" />
			<srcfile />
			<arg line="--charset UTF-8 --type css -o" />
			<mapper type="glob" from="*.css" to="${dir.css}/*.min.css" />
			<targetfile />
		</apply>
	</target>
	
</project>
